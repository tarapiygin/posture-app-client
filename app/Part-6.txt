Cursor Prompt — Part 6: Front Indicators (drawing & metrics) after Pin  You are an expert Android engineer. Continue the app from Parts 1–5. Part 6 must replace the previous placeholder with a Front Indicators screen that the user sees after pressing the “pin” button on the Edit Landmarks screen. The agent must inspect the existing Part-5 files (e.g., ProcessingStore, EditLandmarks*, domain/landmarks/*, transforms/gestures helpers, design system) and build on them. No TODOs or placeholders. Return full file contents.  Goals  Show the cropped image full-width with an overlay of measurements based on the final landmarks saved in Part 5.  Draw all required guides/lines/angles/labels as on screen_11 (provided reference).  Provide bottom switchers: Front (this screen), Right side (stub for Part 7), Analysis results (numeric list).  Top-right Reset report icon returns to Edit Landmarks without losing the user’s edited points.  Persist points across screens until the full report is saved (do not clear store on navigation).  Data to use  Load the final landmark set for the current resultId from ProcessingStore (fallback to auto if final missing).  The working set includes the reduced editable points plus the synthetic points (already defined in Part 5). Re-use the same names and recomputation formulas:  Editable (10): LEFT_EAR, RIGHT_EAR, LEFT_SHOULDER, RIGHT_SHOULDER, LEFT_HIP, RIGHT_HIP, LEFT_KNEE, RIGHT_KNEE, LEFT_ANKLE, RIGHT_ANKLE  Synthetic (3, not editable):  TIBIAL_TUBEROSITY_LEFT = kneeL + 0.15 * (ankleL - kneeL)  TIBIAL_TUBEROSITY_RIGHT = kneeR + 0.15 * (ankleR - kneeR)  JUGULAR_NOTCH = mid(LS, RS) + down(0.07 * distance(mid(LS,RS), mid(LH,RH)))  All landmarks are normalized (0..1); convert to pixels with the decoded image size for drawing.  Metrics & drawing spec (match the reference) A. Vertical body deviation  Green dotted vertical (ideal = 0°): a line through baseX = midpoint of ankles (LA, RA).x spanning the whole canvas height.  Red dotted deviation line: from the base point at M_ankles = mid(LA, RA) toward the JUGULAR_NOTCH point; extend it up to the top edge.  Red angle arc at M_ankles between the upward green vector and the red deviation vector; annotate with degrees.  Angle computation (degrees):  v = JUGULAR_NOTCH - M_ankles θ_body = angle_between( v , (0, -1) )   // y grows down; "up" is (0,-1) θ_body = abs(θ_body)  B. Horizontal level deviations (yellow vs blue)  For each level pair below, compute the line angle relative to horizontal:  Ears: (LE, RE)  Shoulders: (LS, RS)  ASIS: (LH, RH) // ASIS proxy by hips  Knees: (LK, RK)  Feet: (LA, RA)  Angle (degrees):  θ_level = atan2(yR - yL, xR - xL) * 180/π θ_level_abs = abs(θ_level)   Draw for each level (top → bottom):  A thin blue horizontal guide across the entire width at y = mean(yL, yR), left label (“Ears”, “Shoulders”, “ASIS”, “Knees”, “Feet”).  A yellow segment connecting the actual two points with a small rounded yellow tick (matching screenshot).  A right-side pill displaying the θ_level_abs°.  C. Gray anatomical connectors  Draw light-gray connectors between every left–right pair listed above (under the colored overlays).  Additionally, draw a faint midline polyline through the midpoints: mid(Feet) → mid(Knees) → mid(ASIS) → mid(Shoulders) → JUGULAR_NOTCH.  D. Bottom switchers  A bottom bar with three items:  Front (selected)  Right side (disabled or navigates to a stub route for Part 7)  Analysis results (navigates to a simple list of computed angles with labels)  E. Top-right reset  An icon button (circular, Apple-like) resets the report view by navigating back to Edit Landmarks without discarding points (do not mutate ProcessingStore on this action).  Implementation plan (create/modify these files; return full contents) 1) Domain – metrics  domain/metrics/FrontMetrics.kt  data class LevelAngle(val name:String, val angleDeg: Float, val yPx: Float, val left: Offset, val right: Offset) data class FrontMetrics(    val bodyAngleDeg: Float,    val bodyBase: Offset,   // M_ankles in px    val jnPx: Offset,    val levelAngles: List<LevelAngle> )   domain/metrics/ComputeFrontMetricsUseCase.kt  Input: LandmarkSet + image size  Output: FrontMetrics (compute θ_body and all θ_level as above).  Handles missing points gracefully (skip that level).  Uses the same recomputation for synthetic points as in Part 5 to keep consistency.  2) Data – store (persist between screens)  data/processing/ProcessingStore.kt  Ensure it retains final landmarks until an explicit clear/save call we will add later (not in this part).  Add fun currentFinal(resultId:String): LandmarkSet? (alias) used by indicators.  Do not remove data when navigating back from Indicators to Edit Landmarks.  3) UI – Front Indicators  ui/indicators/FrontIndicatorsViewModel.kt  Loads imagePath + resultId from nav args.  Fetches the final set from ProcessingStore; if absent, uses auto.  Computes FrontMetrics via the use case and exposes UiState.  Recomputes on resume if user returns from Edit Landmarks.  ui/indicators/FrontIndicatorsScreen.kt  Layout:  Large title: “Быстрый Анализ” (or localized).  Reset report icon at top-right → navigate back to Edit Landmarks (keep points).  Image rendered full-width (no pan/zoom here).  Canvas overlay that draws:  Gray anatomical connectors (pairs + midline).  Green dotted vertical through M_ankles.x.  Red dotted deviation from M_ankles to top along vector towards JUGULAR_NOTCH.  Red angle arc at M_ankles with label θ_body°.  For each level: blue guide, yellow segment between pair, right pill with degrees, left label chip.  Bottom switchers:  Front (selected)  Right side → navigate to RightSideIndicatorsScreen (create stub)  Analysis results → navigate to FrontResultsListScreen (list angles + body angle)  Use our design system colors:  Green #2ECC71 dotted, Red #FF3B30 dotted, Yellow #FFD60A solid, Blue #89B4F8 for guides, Gray lines for connectors.  Dashes via PathEffect.dashPathEffect(...).  ui/indicators/FrontResultsListScreen.kt  Simple list (Apple-like cards) showing:  “Body deviation” = θ_body°  Level rows: Ears/Shoulders/ASIS/Knees/Feet = angle°  Button Back to overlay.  ui/indicators/RightSideIndicatorsScreen.kt  Minimal stub screen (to be implemented in Part 7) with a message and a Back button.  4) Navigation  ui/navigation/Destinations.kt – add routes with arguments:  FrontIndicators(resultId:String, imagePath:String)  FrontResultsList(resultId:String)  RightSideIndicators(resultId:String, imagePath:String) (stub for Part 7)  ui/navigation/AppNavHost.kt – wire the new composables; when the user taps Reset (top-right), popBackStack to EditLandmarks with the same args (do not alter store).  5) Utilities  core/draw/DrawingUtils.kt  Helpers to draw: dotted vertical, dotted polyline, angle arc with text, blue level line, yellow segment, left label chip, right degree pill.  All sizes in dp → px conversion via LocalDensity.  res/values/strings.xml – add localized labels:  quick_analysis, lbl_ears, lbl_shoulders, lbl_asis, lbl_knees, lbl_feet, lbl_body_angle, tab_front, tab_right_side, tab_results, action_reset_report  res/drawable/ – vector icons:  ic_reset_report.xml, ic_tab_front.xml, ic_tab_right.xml, ic_tab_results.xml  Behavior & UX (must match the reference)  On enter, the screen immediately shows the image with overlays.  Angles are correct, stable, and recomputed if user goes back to edit and returns.  Reset report returns to Edit Landmarks; all edited points remain (store unchanged).  Bottom tabs are visible; Front is active; Right side opens the stub; Results opens the list.  Layout is clean, Apple-inspired (rounded pills/chips, subtle shadows, Inter font).  Acceptance criteria  Green vertical, red deviation line + angle, yellow level segments + blue guides + degree pills, and gray connectors render as specified.  Angles:  θ_body computed from mid-ankles → JUGULAR_NOTCH vs vertical up.  Level angles computed from pair vectors vs horizontal.  Navigation:  From Edit → Pin → Front Indicators;  Top-right reset → back to Edit with the same points;  Bottom tabs work; “Results” shows numeric values.  Landmarks persist in ProcessingStore across all these navigations.  Output format: Return all created/modified files as separate code blocks with complete contents. No TODOs or placeholders.